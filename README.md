# 多通道数据采集系统

## 项目简介
本项目是一个基于PyQt5和pyqtgraph开发的多通道数据采集系统，包含数据采集上位机和设备模拟器两个主要组件。系统支持36通道数据的实时采集、显示、保存和回放功能。

## 系统架构

### 1. 设备模拟器 (simulator.py)
- 模拟36通道数据采集设备
- 支持TCP/IP通信
- 可配置采样率
- 生成模拟测试信号（不同频率和振幅的正弦波）

### 2. 数据采集上位机 (main.py)
- 基于PyQt5的图形用户界面
- 实时数据显示和波形绘制
- 数据保存和回放功能
- TCP/IP设备连接管理

## 功能说明

### 数据采集功能
- 支持TCP/IP连接数据采集设备
- 实时显示36通道数据波形
- 可调节采样率（默认100Hz）
- 数据保存为CSV格式
- 支持数据回放功能，可调节回放速度

### 数据包格式
二进制数据包格式：
- 包头：4字节 (0xAA55AA55)
- 数据长度：4字节
- 数据内容：36个4字节浮点数（共144字节）

### 通信协议
命令格式：
1. 设置采样率：1字节命令类型(0x01) + 4字节整数参数
2. 开始采样：1字节命令类型(0x02)
3. 停止采样：1字节命令类型(0x03)

## 安装说明

### 依赖环境
- Python 3.x
- 所需Python包：
```
PyQt5>=5.15.0
pyqtgraph>=0.12.0
numpy>=1.19.0
```

### 安装步骤
1. 克隆或下载项目代码
2. 安装依赖包：
```bash
pip install -r requirements.txt
```

## 使用说明

### 启动设备模拟器
```bash
python simulator.py
```
模拟器默认监听127.0.0.1:8080

### 启动数据采集上位机
```bash
python main.py
```

### 基本操作流程
1. 启动设备模拟器
2. 启动数据采集上位机
3. 在上位机中输入设备IP和端口（默认127.0.0.1:8080）
4. 点击连接按钮
5. 设置采样率（可选）
6. 点击开始采样
7. 可随时停止采样或断开连接
8. 数据可保存为CSV文件
9. 支持已保存数据的回放功能